---
tags:
  - design-pattern
  - cqrs
---
![[Pasted image 20231201091929.png]]
<mark style="background: #ABF7F7A6;">Command Query Responsibility Segregation (CQRS) 는 소프트웨어 시스템에서 명령과 쿼리 처리에 대한 책임을 분리하는 아키텍처 패턴입니다.</mark>

CQRS 는 이러한 문제를 분리함으로써 확장성, 유지보수성, 유연성을 개선하는 것을 목표로 합니다.
CQRS 는 데이터를 읽는 작업(Query) 와 데이터를 쓰는 작업(Command) 를 분리합니다.
해당 패턴의 구성요소는 다음과 같습니다.
##### Command
시스템 상태를 변경하는 작업을 나타냅니다. (데이터 생성, 갱신, 삭제)

##### Query
시스템에서 데이터를 검색하는 작업을 나타냅니다.

##### Command Handler
명령을 처리하고 실행하여 시스템 상태를 변경합니다.

##### Query Handler
시스템에서 데이터를 검색하고 적절한 형식으로 반환하여 쿼리를 처리합니다.

# CQRS 장점
## 1. 확장성

CQRS를 사용하면 <mark style="background: #ADCCFFA6;">읽기 및 쓰기 작업을 독립적으로 확장할 수 있습니다. </mark>
이는 읽기 및 쓰기 부하가 크게 다른 시스템에서 특히 유용합니다. 
더 많은 리소스를 할당하여 쿼리 성능을 최적화하는 동시에 쓰기 작업을 효율적으로 유지할 수 있습니다.

## 2. 유연성

<mark style="background: #ADCCFFA6;">명령과 쿼리가 분리되어 있으므로 데이터 저장 및 검색 전략을 독립적으로 최적화할 수 있습니다. </mark>
이러한 유연성은 다양한 데이터 저장 기술로 작업하거나 성능을 최적화할 때 특히 유용합니다.

## 3. 유지보수성 향상
CQRS는 우려 사항을 분리하여 코드베이스를 단순화합니다. 
이렇게 분리하면 명령과 쿼리가 서로 간섭하지 않기 때문에 더 깔끔하고 유지 관리가 쉬운 코드가 생성됩니다.

## 4. 강화된 보안
CQRS를 사용하면 읽기 및 쓰기 작업에 다양한 보안 메커니즘을 적용할 수 있습니다. 명령에 대해 더 엄격한 보안 제어를 적용하여 권한이 있는 사용자만 변경할 수 있도록 할 수 있습니다.


# References
[CQRS 패턴 이해: 장단점 및 스프링 부트 예시](https://jackynote.medium.com/?source=post_page-----69138eef603f--------------------------------)