#elastic-search

# `Elastic Search`

분산 데이터 검색 엔진 및 데이터베이스.
복수의 루씬 인스턴스를 병렬 배치 및 분산처리를 수행해 **검색속도를 무한히 확장**할 수 있다.
일부 노드가 다운되더라도 **노드 간 복제 기능**을 통해 정상적으로 서비스를 운영할 수 있다.
대신 다음과 같은 단점이 따른다.
* 시스템 리소스를 많이 사용한다.
* 수정/삭제 비용이 크다. ( 검색 속도 향상을 위한 트레이드-오프, 인덱싱 작업 )

`ES` 는 인덱스 패턴을 이용해 한 번에 여러 인덱스에서 동시 조회가 가능해 `JOIN` 연산이 없더라도 각기 다른 서비스에 어떤 로그가 발생했는지 탐색하고 공통되 요소를 찾을 수 있다.

# 커스텀 수집기가 아닌 LogStash 를 사용해야하는 이유

* `ES` 의 인덱싱 성능을 최적화 하기 위한 배치 및 병렬 처리 지원
* 영속 큐를  활용해 최소 1회 전송 보장
* 데이터 양이 급증하는 부하 상황에 안정성 보장

# ES 전문 검색 (`full text search`)
용어(`terms`) 단위로 분석해 인덱싱 처리를 한 뒤 이를 기반으로 검색을 수행하는 역인덱싱(`inverted indexing`) 기법

# 로그 수집 `Beat` 사용시 이점
`ECS(Elastic Common Schema)` 를 활용해 구조에 맞춰 로그를 인덱싱할 수 있다.
표준 스키마에 맞춰 로그를 수집함으로써 하나의 쿼리로 검색이 가능해진다.

# 강력한 시각화 지원 및 이벤트 분석
`SIEM`, `ESM` 이라 불리는 솔루션과 비교해도 무시할 수 없는 시각화 기능을 제공한다.
키바나에서 이벤트 분석 화면을 구성하여 
`애플리케이션`, `엔드포인트`, `인프라스트럭처`, `클라우드`, `네트워크` 등 다양한 소스에서 수집한 이벤트에서 `활동 및 인증로그`, `DNS 트래픽`, `네트워크 플로우` 를 분석하여 이상 징후, 불법적인 시도, 사용자 접근 패턴을 찾아 낼 수 있다.
또한 미리 빌드된 머신러닝을 활용하여 알려지지 않은 위협도 밝혀낼 수 있다.

# 성능 모니터링
`APM(Application Perfomance Monitoring` 화면을 구축하여 서비스 연결관계 파악, 트랜잭션의 분산 추적, 경보기능을 이용해 즉각적인 대응 및 애플리케이션 운영 안정화를 수행할 수 있다.
