### [Github Repository](https://github.com/galaxy4276/HANBAT_BOX)

---

![[한밭박스 - 교내 네트워크 기반 파일공유 서비스-20241129104439799.webp]]

# 서론
교내에서 사용하는 공인 네트워크 접근 여부를 판별하여 사용자에게 접근 권한을 부여하는 대용량 파일 공유 서비스이다.
2주 좀 넘는 짧은 시간동안 개발하였고 개인적으로 많은 것을 시도했으며 출시 및 사용자 활동 데이터까지 확보하여 많은 것을 느끼게 해주었다.

# 새롭게 배우거나 시도한 것들

## 기획자, 팀 리더로써의 역할

### 시작할 때, 마음을 무겁게 가지지 말자

정말 짧은 프로젝트에서의 팀 리딩이었다. 프로젝트는 항상 마음이 무겁기 마련이지만, 가벼운 마음으로 기획과 PM 업무에 임하니 부담 없이 즐겁게 진행할 수 있었다. 실제로 프로젝트는 점점 살이 붙고 규모가 커져 마무리하기 급급했지만, 다른 프로젝트들보다 압박감을 덜 느꼈다. 이를 통해 첫 마음가짐을 지나치게 무겁게 가질 필요가 없다는 것을 깨달았다.

### 기획서를 전달하는 것에서 끝내지 않기

아무리 작은 애플리케이션이라도, 기획서의 내용을 꼼꼼히 채웠더라도 단순히 전달하는 것으로 기획자의 업무가 끝나지 않는다. 기획서를 전달했다고 해서 모든 팀 구성원이 의도한 내용을 완벽히 이해했다고 볼 수 없다. 1차 완성된 기획서를 바탕으로 구성원들과 함께 페이지를 하나씩 검토하고 피드백을 주고받아야 비로소 기획이 제대로 전달되었다고 할 수 있다.

### 불편함을 감수하고, 협업 체계를 통합하는 건 나쁘지 않았다.

2주만에 `Jira`를 사용해보지 않은 구성원들이 체계에 적응하고 개발을 수행하기엔 무리라고 판단했다. `Notion`의 기능을 최대한 활용해 `WBS`를 작성하고 진행상황을 수동으로 관리하며 진행률을 추적했는데, 효과적이었다.

![[한밭박스 - 교내 네트워크 기반 파일공유 서비스-20241207170501223.webp]]
> 작업 현황 대시보드

![[한밭박스 - 교내 네트워크 기반 파일공유 서비스-20241207170513415.webp]]
> 백로그

![[한밭박스 - 교내 네트워크 기반 파일공유 서비스-20241207170521579.webp]]
> 전체 작업 진행률

진행관련 문서와 업무 추적시스템을 `Notion` 하나로 통일하니 관리포인트가 줄었고 신경써야할 부분이 적어졌다.
전반적인 팀의 상황을 고려해서 협업 체계를 조금씩 바꿔가보며 적절한 방안을 찾는게 프로젝트 성공/실패에 큰 요인이 되겠다 싶었다.

## 기능을 가리지 말자

한밭박스는 손쉬운 접근성을 명목으로 로그인 기능이 없다. 첫 기획은 `교내 내부에서만 사용할 수 있게 하자`였는데, 이는 결과적으로 사용자에게 불편함을 초래했다. 학교 내부로 제한된 서비스는 극히 제한적인 환경에서만 이용 가능하여 범용성이 크게 떨어졌다. 첫 시작 페이지에서 접근 자체를 막았던 것을 처음에는 보안적으로 우수하다며 자부했지만, 실상은 방문한 사용자에게 아무것도 보여주지 않는 결과를 낳았다. 서비스를 공개하고 나서야 이 문제점을 깨달았다. 환경에 따라 제공하거나 제한해야 할 기능에 대해 팀원들과 충분한 논의가 필요했다. 급하게 기획을 변경하고 요구사항을 수정했지만, 이미 서비스가 공개되고 사용자가 발생한 후였기에 큰 아쉬움이 남았다.

`폐쇄성`이 반드시 필요한 경우가 아니라면, 최소한 사용자가 서비스를 이해할 수 있는 수단은 마련해두어야 한다.

## IoC 패턴을 적용해본 모달 시스템
리액트의 제약을 최소화하여 어디서든 모달 UI 요소를 쉽게 생성하고 호출하고자 했다. 그 결과 **상위 컨텍스트에서 모달의 라이프사이클을 전반적으로 관리**하고, 하위에서는 단순히 모달을 생성, 수정, 삭제할 수 있는 편리한 구조를 설계했다.

```typescript
const App = () => {  
  return (  
    <HelmetProvider>  
      <QueryClientProvider client={queryClient}>  
        <ModalProvider> <-- 모달을 관리하는 모듈  
          <RouterProvider />  
        </ModalProvider>  
      </QueryClientProvider>  
    </HelmetProvider>  
  );
};
```

하단은 `Home` 에 접근했을 때 `URL Params` 존재 여부를 판별해서 다운로드 모달을 렌더링하는 예시이다.

```typescript
export const Home: React.FC = () => {  
  const { createModal, openById } = useModal();  
  ..

  
  useEffect(() => {  
    if (!nickname) changeNickname(generateNickname());  
  
    const id = searchParams.get('downloadId');  
    if (!id) return;  
  
    const downloadModalId = createModal({  
	      id: `download-${id}`,  
	      header: <DownloadHeader />,  
	      node: () => <DownloadBody id={Number(id)} />,  
	      options: {  
	        noContent: true,  
	      },
      });  
    openById(downloadModalId);  
  }, [searchParams]);
  
  ....
```
node로 `() => ReactNode`를 받아 생성과 동시에 모달 내부에 제어형 컴포넌트를 선언할 수 있다. 이를 통해 다양한 상황에서 기능적 제약 없이 사용할 수 있도록 구현했으며, 제한된 시간 내에 빠르게 기능을 개발할 수 있는 생산성을 확보했다.

## 적극적으로 PR 을 사용해보다
`PR` 을 적극적으로 사용해보는 것은 처음이 아니다.
회사생활을 제외하고 정말 오랜만에 대학교 내에서 팀원들과 `PR` 을 통해 적극적으로 소통하며 코드 품질 향상이나 논리적인 오류에 대해 캐치를 수행해낸 것 같아 뿌듯하다.
문제에 대해 `PR` 을 통해 소통하는 것도 꽤나 괜찮다는 경험을 하게 되었다.

![[한밭박스 - 교내 네트워크 기반 파일공유 서비스-20241207172612784.webp]]
![[한밭박스 - 교내 네트워크 기반 파일공유 서비스-20241207172620778.webp]]
> 리팩터링 제안을 pr 로 수행하다.

# 아쉬운 점
## 사용자 피드백의 중요성

사용자 피드백은 항상 중요하다. 특히 시장조사가 부족했거나 시험적인 서비스일수록 모든 의견이 더욱 소중하다. 서비스 출시 후 5000회 이상의 트래픽을 얻었음에도 사용자 피드백을 받지 못했다. 실제 사용자들을 보면서 피드백의 필요성을 절실히 느꼈다. 다음에는 마케팅 차원에서 테스터를 모집해야겠다. 이번 경험으로 서비스 완성도에 대한 이해가 한층 깊어졌다.

## 업로드, 다운로드 시스템 설계를 충분히 고려하지 못했음

서버에서 파일의 `network i/o`를 효율적으로 처리하는 방법과, 스트림 방식으로 데이터가 전달될 때 클라이언트의 대기 및 인터랙션 처리 방식을 깊이 고민하지 못했다. 그저 기능 구현에만 급급했고, 결과적으로 서버의 응답 방식을 제대로 고려하지 않은 채 `200 OK` 응답만으로 다운로드 완료를 판단하게 되었다.

큰 데이터의 `i/o` 처리는 단순한 `json` 데이터 전송과는 다르게 더 깊이 있는 접근이 필요했다.

## 대용량을 제대로 고려하지 못함

`s3`만으로 모든 것이 해결될 것이라 안일하게 생각했다. 기본 `s3 sdk`로는 대용량 데이터를 적절한 `i/o time` 내에 처리할 수 없었고, 더 나은 방법이 있다는 것도 몰랐다. 또한 파일 업로드/다운로드 요청을 단일 스레드로 처리하며 `i/o time`을 점유하는 구조는 트래픽 처리에 비효율적이었다. 몇 가지 대안을 생각해볼 수 있었으나 실행하지 못했다. 다음 프로젝트에서는 이 문제를 해결하고 싶다.

## 네트워크 기반 접근 제어가 적절하였는가

쓰기 권한을 교내 `공인 IP`로 필터링했지만, 일부 교내 건물에서 통신이 제한되는 문제가 발생했다. 모든 지역의 IP를 꼼꼼히 조사했다면 해결됐겠지만, 위치 기반(위도, 경도) 접근 제어도 대안이 될 수 있었을 것 같다.

다만 위치 정보 변조 대응은 새로운 과제가 된다. 이런 면에서 `IP` 기반 확인이 더 적절할 수 있다. 하지만 우리는 `IP 변조 공격`에 대한 대책도 마련하지 못했다. `TCP/IP 4계층(응용)`에서 단순 IP 검사만 했기에, 이 부분에 대해 더 깊이 연구가 필요하다. 이참에 네트워크 공부를 해야겠다.

## 디자인이 너무 아쉽다

디자이너로서의 경험은 없지만, 사용자 친화적인 디자인을 만들고자 노력했다. 작업 중 여러 번 확신이 없었는데, 이는 디자인에 대한 확고한 주관이 부족해서다. 프로젝트 진행 중에 인스타그램의 UI/UX 디자인 릴스를 찾아보며 많은 영감을 얻었다. 앞으로도 좋은 사례들을 꾸준히 수집하고 직접 제품을 만들어보며 실력을 키워야겠다. 이번 경험으로 디자인의 중요성을 더욱 깊이 깨달았다.

## 가이드를 만들지 못했다

`쉬운 UI`를 지향했지만, 첫 방문자에게는 여전히 생소할 수 있다. 서비스 접속 시 바로 활용할 수 있는 가이드와 자연스러운 인터랙션이 있었다면 좋았을 것이다. `인터랙티브 UI` 경험이 없어 시도를 망설였지만, 이번 기회를 계기로 많이 연습해보려 한다.
# 마무리
짧은 기간안에 많은 것들을 느낄 수 있었던 프로젝트다.
수상을 한 것도 대단한데, 몇 달짜리 논문 프로젝트를 수십 개 제쳐낸 우리 팀원들이 너무 자랑스럽다.
사람만나는건 순전히 `운` 하나에 작용하는데 정말 좋은 팀원들을 얻었다.
